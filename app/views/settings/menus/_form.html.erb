<div id="about">
  <p>Please enter menu informations here.<br>Toruya will accept reservation based on this setting.</p>
</div>

<%
  staff_menus = menu.staff_menus.to_a
  staffs = menu.staffs

  whole_staff_menus = super_user.staffs.map do |staff|
    if staff_menu = staff_menus.find { |staff_menu| staff_menu.staff_id == staff.id }
      staff_menu
    else
      menu.staff_menus.build(staff_id: staff.id)
    end
  end
%>
<%= react_component("UI.Settings.MenuForm", {
  save_menu_path: url,
  cancel_path: settings_menus_path,
  add_reservation_setting_path: new_settings_reservation_setting_path(from_menu: true, menu_id: menu.id),
  repeating_dates_path: repeating_dates_settings_menus_path,
  new_category_path: new_settings_category_path(from_menu: true, menu_id: menu.id),
  menu: menu,
  reservation_settings: reservation_setting_options(super_user.reservation_settings.order("id"), menu),
  selected_reservation_setting: reservation_setting_option(reservation_setting, menu),
  selected_reservation_setting_rule: menu_reservation_setting_rule,
  shops: react_attributes(super_user.shops.order("id")),
  selected_shops: react_attributes(menu.shops),
  categories: react_attributes(super_user.categories),
  selected_categories: react_attributes(menu.categories),
  staffs: staff_attributes_options(super_user.staffs),
  selected_staffs: staff_attributes_options(staffs),
  staff_menus: react_attributes(whole_staff_menus),
  form_authenticity_token: form_authenticity_token
})%>
