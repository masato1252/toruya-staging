<%= jump_out_modal(lines_user_bot_tours_line_settings_required_for_online_service_path, static: true) unless current_user.social_account&.line_settings_finished? %>

<%= react_component("user_bot/services/creation_flow", {
  props: {
    is_premium_member: current_user.premium_member?,
    service_goals: ::OnlineService::GOALS,
    user_payable: current_user.payable?,
    companies: super_user.shops.includes({ logo_attachment: :blob }).map { |s| CompanyInfoSerializer.new(s).attributes_hash }.push(
      CompanyInfoSerializer.new(super_user.profile).attributes_hash
    ),
    upsell_sales: super_user.sale_pages.includes(:product, :sale_template).map do |sale_page|
      next unless sale_page.product

      hash = SalePageOptionSerializer.new(sale_page).attributes_hash

      {
        label: hash[:label],
        value: hash
      }
    end.compact
  }
},
{ camelize_props: false }
) if current_user.social_account&.line_settings_finished? %>
