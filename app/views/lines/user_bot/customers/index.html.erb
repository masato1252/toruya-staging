<%= jump_out_modal(lines_user_bot_shop_reservation_path(@reservation.shop, @reservation, customer_id: params[:customer_id], from: "customer_dashboard")) if @reservation %>

<%= react_component("user_bot/dashboards/customers_dashboard", {
  props: {
    from: params[:from],
    referrer: request.referrer,
    reservation_id: params[:reservation_id],
    shop: shop,
    customer: customer_options([ @customer || super_user.customers.new]).first,
    notification_messages: @notification_messages,
    contact_groups: contact_group_options,
    ranks: rank_options,
    i18n: {
    }.merge!([
      t("reservation"),
      t("customer"),
      t("user_bot.dashboards.customer"),
      t("common").slice(:processing, :address, :phone_number, :email, :birthday, :name, :others, :memo, :last_name, :first_name, :phonetic_last_name, :phonetic_first_name, :zip_code),
      t("action").slice(:save, :edit, :delete),
    ].inject(:merge!))
  }
},
{ camelize_props: false }
) %>

<%#= react_component("management/customers/customers_dashboard",
                    { shop: shop,
                      customers: customer_options(@customers),
                      customer: customer_options([ @customer || super_user.customers.new]).first,
                      customer_view: !!@customer && @customer.contact_group_id ? "customer_reservations" : "customer_info",
                      from_reservation: params[:from_reservation],
                      reservationCreatePermission: shop && can?(:create_reservation, shop) && can?(:create, :reservation_with_settings) && can?(:create_shop_reservations_with_menu, shop),
                      reservationCreateWarningPath: create_reservation_warnings_path(owner_id: super_user.id, shop_id: shop),
                      add_reservation_path: @add_reservation_path,
                      contact_groups: contact_group_options,
                      ranks: rank_options,
                      regions: regions,
                      year_options: year_options,
                      month_options: month_options,
                      day_options: day_options,
                      customer_detail_path: detail_user_customers_path(super_user, format: :json),
                      save_customer_path: save_user_customers_path(super_user, format: :json),
                      deleteCustomerPath: delete_user_customers_path(super_user),
                      customers_filter_path: filter_user_customers_path(super_user, format: :json),
                      customers_search_path: search_user_customers_path(super_user, format: :json),
                      customers_recent_path: recent_user_customers_path(super_user, format: :json),
                      customer_messages_path: customer_user_messages_path(super_user, format: :json),
                      customer_reservations_path: customer_user_reservations_path(super_user, format: :json),
                      toggleReminderPremissionUserCustomersPath: toggle_reminder_premission_user_customers_path(super_user),
                      delimiter: Customers::Save::DELIMITER,
                      form_authenticity_token: form_authenticity_token,
                      address_label: I18n.t("common.address"),
                      phone_label: I18n.t("common.phone_number"),
                      email_label: I18n.t("common.email"),
                      birthday_label: I18n.t("common.birthday"),
                      memo_label: I18n.t("common.memo"),
                      processing_message: I18n.t("common.processing"),
                      back_without_save_btn: I18n.t("customer.back_without_save"),
                      select_region_label: I18n.t("customer.select_region"),
                      customer_id_placeholder: I18n.t("customer.customer_id"),
                      select_year_label: I18n.t("customer.select_year"),
                      select_month_label: I18n.t("customer.select_month"),
                      select_day_label: I18n.t("customer.select_day"),
                      home_label: I18n.t("customer.home"),
                      work_label: I18n.t("customer.work"),
                      mobile_label: I18n.t("customer.mobile"),
                      city_placeholder: I18n.t("customer.city"),
                      address1_placeholder: I18n.t("customer.address1"),
                      address2_placeholder: I18n.t("customer.address2"),
                      no_customer_message: I18n.t("customer.no_customer"),
                      no_more_customer_message: I18n.t("customer.no_more_customer"),
                      edit_btn: I18n.t("action.edit"),
                      save_btn: I18n.t("customer.save"),
                      deleteCustomerBtn: I18n.t("customer.delete"),
                      recheck_in_btn: I18n.t("reservation.recheck_in"),
                      check_in_btn: I18n.t("reservation.check_in"),
                      check_out_btn: I18n.t("reservation.check_out"),
                      accept_btn: I18n.t("reservation.accept"),
                      pend_btn: I18n.t("reservation.pend"),
                      cancel_btn: I18n.t("reservation.cancel"),
                      accept_in_canceled_btn: I18n.t("reservation.accept_in_canceled"),
                      withWarningsMessage: I18n.t("reservation.contain_some_warnings"),
                      per_page: Customers::Search::PER_PAGE,
                      printing_page_size_blank_option: I18n.t("customer.printing_page_size.paper_size"),
                      tip_before_new_customer: t("customer.tip_before_new_customer"),
                      printing_page_size_options: Customers::PrintingConfig::PAGE_SIZE.map { |key, page_size| { label: page_size[:name], value: key} },
                      printing_path: new_customer_user_printing_path(super_user, format: :pdf),
                      google_down_message: I18n.t("common.google_down"),
                      customerDeleteConfirmMessage: I18n.t("customer.delete_confirmation_message"),
                      groupBlankOption: I18n.t("customer.group_blank_option"),
                      googleContactMissingMessage: I18n.t("customer.google_contact_missing_message_html"),
                      i18n: {
                        non_group_customers_alert_message: I18n.t("notifications.non_group_customers_alert_message"),
                        reminder_confirmation_message: I18n.t("customer.reminder_confirmation_message"),
                        reminder_changed_message: I18n.t("customer.reminder_changed_message"),
                        customer_info_tab: I18n.t("customer.tab.customer_info"),
                        customer_reservations_tab: I18n.t("customer.tab.customer_reservations")
                      }
}) %>
