<%=
  react_component "user_bot/settings/plans", {
    props: {
      business_owner_id: business_owner_id,
      formAuthenticityToken: form_authenticity_token,
      paymentPath: lines_user_bot_settings_payments_path(business_owner_id: business_owner_id),
      stripe_key: Rails.application.secrets.stripe_publishable_key,
      locale: I18n.default_locale,
      email: Current.business_owner.email,
      current_plan_level: Plan.permission_level(Current.business_owner.subscription.current_plan.level),
      current_rank: Current.business_owner.subscription.rank,
      plan_labels: @plan_labels,
      plans: @plans_properties,
      default_upgrade_plan: @default_upgrade_plan,
      default_upgrade_rank: @default_upgrade_rank,
      in_paid_plan: Current.business_owner.subscription.in_paid_plan,
      plan_change_restricted_today: @plan_change_restricted_today,
      support_feature_flags: support_feature_flags,
      i18n: {
      }.merge!([
        t("settings.plans"),
        t("user_bot.dashboards.settings.plans"),
        t("action").slice(:pay, :unsubscribe),
        {
          downgrade_desc1: t("settings.plans.downgrade.desc1", expired_date: l(Current.business_owner.subscription&.expired_date || Date.current)),
          downgrade_desc2: t("settings.plans.downgrade.desc2", after_expired_date: l(Current.business_owner.subscription&.expired_date&.tomorrow || Date.current)),
        }
      ].inject(:merge))
    }
  },
  { camelize_props: false }
%>
