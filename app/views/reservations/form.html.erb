<%= react_component("management/reservations/form", {
  form_authenticity_token: form_authenticity_token,
  timezone: Time.zone.tzinfo.name,
  reservation_properties: {
    shop_name: shop.display_name,
    shop: react_attribute(@reservation.shop.attributes),
    shops: react_attributes([@reservation.shop]),
    staff: react_attribute(current_user_staff.attributes.merge!(name: current_user_staff.name)),
    is_editable: ability(@reservation.shop.user, @reservation.shop).can?(:edit, @reservation),
    is_customers_readable: ability(@reservation.shop.user, @reservation.shop).can?(:read, :customers_dashboard),
    reservation_id: @reservation.id,
    from_customer_id: params[:from_customer_id],
    staff_options: custom_options(@staff_options),
    menu_group_options: menu_group_options(@menu_result[:category_with_menu_options], :minutes, :interval, :min_staffs_number),
    downgrade_from_premium: @reservation.shop.staffs.count > @staff_options.length,
  },
  reservation_form: @reservation.attributes.slice("id", "memo").merge!({
    reservation_id: @reservation.id,
    start_time_date_part: @reservation.start_time_date || @reservation.start_time_date_part,
    start_time_time_part: @reservation.start_time_time || @reservation.start_time_time_part,
    end_time_date_part: @reservation.end_time_date,
    end_time_time_part: @reservation.end_time_time,
    menu_staffs_list: @menu_staffs_list,
    customers_list: @customers_list,
    by_staff_id: current_user.current_staff(super_user).id,
  }),
  path: {
    save: @reservation.new_record? ? shop_reservations_path(shop) : shop_reservation_path(shop, @reservation),
    validate_reservation: validate_shop_reservations_path(shop, format: :json),
    add_customer: add_customer_shop_reservations_path(shop, format: :json),
    working_schedule: custom_schedules_path
  },
  i18n: {
  }.merge!([
    t("reservation"),
    t("common").slice(:processing, :select_a_menu, :select_a_staff, :date, :time, :content, :minute, :number, :required_time, :menu, :responsible_employee, :memo),
    t("action").slice(:save, :save_pending, :delete_reservation, :delete, :add_a_menu),
  ].inject(:merge!))
},
{ camelize_props: false }
) %>
