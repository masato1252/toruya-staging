<% unless params[:from_filter] %>
  <div class="modal-footer">
    <dl>
      <% if reservation.may_check_out? %>
        <dd>
        <% if user_ability.can?(:edit, reservation) %>
          <%= link_to t("reservation.check_out"), check_out_lines_user_bot_shop_reservation_states_path(reservation.shop, reservation, reservation_date: params[:reservation_date]), class: "btn enhanced BTNyellow" %>
        <% else %>
          <%= link_to t("reservation.check_out"), "#", class: "btn enhanced BTNyellow disabled" %>
        <% end %>
        </dd>
      <% end %>

      <% if reservation.reserved? || reservation.noshow? %>
        <dd>
        <% if user_ability.can?(:edit, reservation) %>
          <%= link_to t("reservation.check_in"), check_in_lines_user_bot_shop_reservation_states_path(reservation.shop, reservation, reservation_date: params[:reservation_date]), class: "btn enhanced BTNyellow" %>
        <% else %>
          <%= link_to t("reservation.check_in"), "#", class: "btn enhanced BTNyellow disabled" %>
        <% end %>
        </dd>
      <% end %>

      <% if reservation.checked_out? %>
        <dd>
        <% if user_ability.can?(:edit, reservation) %>
          <%= link_to t("reservation.recheck_in"), check_in_lines_user_bot_shop_reservation_states_path(reservation.shop, reservation, reservation_date: params[:reservation_date]), class: "btn enhanced BTNyellow" %>
        <% else %>
          <%= link_to t("reservation.recheck_in"), "#", class: "btn enhanced BTNyellow disabled" %>
        <% end %>
        </dd>
      <% end %>

      <% if reservation.acceptable_by_staff?(current_user.current_staff(shop_user)) %>
        <dd>
        <% if user_ability.can?(:edit, reservation) %>
          <% if params[:reservations_approvement_flow].present? %>
            <%= link_to reservation.canceled? ? t("reservation.accept_in_canceled") : t("reservation.accept"), accept_in_group_lines_user_bot_shop_reservation_states_path(reservation.shop, reservation, reservation_date: params[:reservation_date]), class: "btn enhanced BTNtarco" %>
          <% else %>
            <%= link_to reservation.canceled? ? t("reservation.accept_in_canceled") : t("reservation.accept"), accept_lines_user_bot_shop_reservation_states_path(reservation.shop, reservation, reservation_date: params[:reservation_date]), class: "btn enhanced BTNtarco" %>
          <% end %>
        <% else %>
          <%= link_to t("reservation.accept_in_canceled"), "#", class: "btn enhanced BTNtarco disabled" %>
        <% end %>
        </dd>
      <% end %>

      <% if reservation.may_pend? %>
        <dd>
        <% if user_ability.can?(:edit, reservation) %>
          <%= link_to t("reservation.pend"), pend_lines_user_bot_shop_reservation_states_path(reservation.shop, reservation, reservation_date: params[:reservation_date]), class: "btn enhanced BTNgray" %>
        <% else %>
          <%= link_to t("reservation.pend"), "#", class: "btn enhanced BTNgray disabled" %>
        <% end %>
        </dd>
      <% end %>

      <% if reservation.may_cancel? %>
        <dd>
        <% if user_ability.can?(:edit, reservation) %>
          <%= link_to t("reservation.cancel"), cancel_lines_user_bot_shop_reservation_states_path(reservation.shop, reservation, reservation_date: params[:reservation_date]), class: "btn enhanced BTNorange", data: { confirm: I18n.t("reservation.cancel_confirmation_message") } %>
        <% else %>
          <%= link_to t("reservation.cancel"), "#", class: "btn enhanced BTNorange disabled" %>
        <% end %>
        </dd>
      <% end %>

      <dd>
      <% if user_ability.can?(:manage_shop_reservations, reservation.shop) && user_ability.can?(:edit, reservation) %>
        <%= link_to t("action.details"), form_lines_user_bot_shop_reservations_path(reservation.shop, reservation.id, from_customer_id: params[:from_customer_id]), class: "btn enhanced BTNtarco" %>
      <% else %>
        <%= link_to t("action.details"), "#", class: "btn enhanced BTNtarco disabled" %>
      <% end %>
      </dd>
    </dl>
  </div>
<% end %>
