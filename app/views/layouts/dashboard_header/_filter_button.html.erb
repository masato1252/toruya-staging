<% if single_shop_owner %>
  <dd>
    <% if ability(current_user).can?(:read, :filter) %>
      <%= active_link_to customer_user_filter_index_path(current_user), active: /^\/customer\/users\/\d+\/filter/, class_active: "here" do %>
        <i class="fa fa-database fa-4x" aria-hidden="true"></i>
        <%= t("dashboard.search_data") %>
      <% end %>
    <% else %>
      <%= link_to "#", data: { toggle: "modal", target: "#adminUpgradeFilterModal" } do %>
        <i class="fa fa-database fa-4x" aria-hidden="true"></i>
        <%= t("dashboard.search_data") %>
      <% end %>
    <% end %>
  </dd>
<% elsif single_employer %>
  <dd>
    <% if ability(single_employer).can?(:read, :filter) %>
      <%= active_link_to customer_user_filter_index_path(single_employer), active: /^\/customer\/users\/\d+\/filter/, class_active: "here" do %>
        <i class="fa fa-database fa-4x" aria-hidden="true"></i>
        <%= t("dashboard.search_data") %>
      <% end %>
    <% else %>
      <%= link_to "#", data: { toggle: "modal", target: "#staffUpgradeFilterModal" } do %>
        <i class="fa fa-database fa-4x" aria-hidden="true"></i>
        <%= t("dashboard.search_data") %>
      <% end %>
    <% end %>
  </dd>
<% else %>
  <dd class="dropdown">
    <%= active_link_to customer_user_filter_index_path(super_user),
      active: /^\/customer\/users\/\d+\/filter/,
      class_active: "here",
      data: { toggle: "dropdown", target: "#" } do %>
      <i class="fa fa-database fa-4x" aria-hidden="true"></i>
      <%= t("dashboard.search_data") %>
    <% end %>
    <ul class="dropdown-menu dropdown-menu-right">
      <% if current_user.shops.exists? || working_shop_owners.present? %>
        <% if current_user.shops.exists? %>
          <li>
            <% if ability(current_user).can?(:read, :filter) %>
              <%= link_to t("dashboard.someone_shop", name: current_user.name), customer_user_filter_index_path(current_user) %>
            <% else %>
              <%= link_to t("dashboard.someone_shop", name: current_user.name), "#", data: { toggle: "modal", target: "#adminUpgradeFilterModal" } %>
            <% end %>
          </li>
          <% if working_shop_owners.present? %>
            <li class="divider"></li>
          <% end %>
        <% end %>

        <% if working_shop_owners.present? %>
          <% working_shop_owners.each do |owner| %>
            <li>
              <% if ability(owner).can?(:read, :filter) %>
                <%= link_to t("dashboard.someone_shop", name: owner.name), customer_user_filter_index_path(owner) %>
              <% else %>
                <%= link_to t("dashboard.someone_shop", name: owner.name), "#", data: { toggle: "modal", target: "#staffUpgradeFilterModal" } %>
              <% end %>
            </li>
          <% end %>
        <% end %>
      <% else %>
        <li>
          <span class="dropdown-header">
            Donâ€™t have any shop,
            please set up your shop in <%= link_to("settings page", settings_path(current_user)) %>
        </span>
      </li>
    <% end %>
    </ul>
  </dd>
<% end %>
