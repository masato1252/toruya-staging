<%= react_component("booking/booking_reservation_form", {
  form_authenticity_token: form_authenticity_token,
  booking_page: @booking_page.attributes.slice({}).merge!({
    shop_logo_url: shop_logo_url(@booking_page.shop, "390x135"),
    shop_name: @booking_page.shop.name
  }),
  booking_reservation_form: {
    regular: cookies[:booking_customer_id] ? "yes" : nil,
    found_customer: cookies[:booking_customer_id] ? true : nil,
    remember_me: true,
    customer_first_name: @customer&.first_name,
    customer_last_name: @customer&.last_name,
    customer_phone_number: cookies[:booking_customer_phone_number],
    customer_info: {
      id: @customer&.id,
      first_name: @customer&.first_name,
      last_name: @customer&.last_name,
      phonetic_first_name: @customer&.phonetic_first_name,
      phonetic_last_name: @customer&.phonetic_last_name,
      phone_number: cookies[:booking_customer_phone_number],
      phone_numbers: @customer&.phone_numbers&.map { |phone| phone.value.gsub(/[^0-9]/, '') },
      email: @customer.primary_email&.value&.address,
      emails: @customer.emails&.map { |email| email.value.address },
      simple_address: @customer&.address,
      full_address: @customer&.display_address,
      address_details: @customer&.primary_address&.value,
      original_address_details: @customer.primary_address&.value
    }
  },
  path: {
    save: nil,
    find_customer: find_customer_booking_page_path(@booking_page)
  },
  i18n: {
  }.merge!([
    t("action").slice(:save)
    ].inject(:merge!)
 ),
},
{ camelize_props: false }
) %>
